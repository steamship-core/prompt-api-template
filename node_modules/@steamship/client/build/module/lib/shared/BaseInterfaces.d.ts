/// <reference types="node" resolution-mode="require"/>
import { AxiosResponse } from 'axios';
import { TaskParams, TaskState } from '../types/base.js';
import { Configuration } from './Configuration.js';
export interface ITask<T> extends TaskParams<T> {
    update(params?: TaskParams<T>): ITask<T>;
    setData(data?: any): void;
    completed(): boolean;
    failed(): boolean;
    wait(params?: {
        maxTimeoutSeconds?: number;
        retryDelaySeconds?: number;
    }): Promise<ITask<T>>;
    check(): Promise<ITask<T> | undefined>;
}
export interface TaskListParams {
    id?: string;
    workspaceId?: string;
    state?: TaskState;
}
export interface TaskList {
    tasks: ITask<any>[];
}
export type Verb = 'POST' | 'GET';
export type AllowedFileTypes = Blob | File | string | Buffer;
export interface PostConfig<T> extends Configuration {
    responsePath?: string;
    rawResponse?: boolean;
    file?: AllowedFileTypes;
    filename?: string;
    expect?: (client: IApiBase, data: unknown) => T;
    isPackageCall?: boolean;
    asBackgroundTask?: boolean;
    packageOwner?: string;
    packageId?: string;
    packageInstanceId?: string;
}
export interface SwitchWorkspaceParams {
    workspaceHandle?: string;
    failIfWorkspaceExists?: boolean;
}
export interface IApiBase {
    config: Promise<Configuration> | Configuration;
    switchWorkspace(params?: SwitchWorkspaceParams): Promise<void>;
    post<T>(operation: string, payload: unknown, config?: PostConfig<T>, overrideConfig?: Configuration): Promise<AxiosResponse | ITask<T>>;
    get<T>(operation: string, payload: unknown, config?: PostConfig<T>): Promise<AxiosResponse | ITask<T>>;
    call<T>(verb: Verb, operation: string, payload: unknown, config?: PostConfig<T>, overrideConfig?: Configuration): Promise<AxiosResponse | ITask<T>>;
    _url<T>(baseConfig: Configuration, postConfig?: PostConfig<T>, operation?: string): string;
}
